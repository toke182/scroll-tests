!function(a){var b=function(b){var i=this,j=b.find("> .viewport"),k=j.find("> .content"),l={x:null,y:null},m={x:null,y:null},n={top:-1,left:-1},o=c+d++;this.update=function(){var a={top:j.scrollTop(),left:j.scrollLeft()},c=function(c){var d=h(c),e=k[0]["scroll"+d.sizeUpper],f=j[d.size]();if(f>=e)return void l[d.axis].addClass("disabled");if(l[d.axis].removeClass("disabled"),a[d.pos]!==n[d.pos]){n[d.pos]=a[d.pos];var g=b[d.size](),i=e-g,o=g/e,p=a[d.pos]/i,q=(o>1?1:o)*g,r=l[d.axis][d.size](),s={};s[d.size]=q+"px",s[d.pos]=p*(r-q)+"px",m[d.axis].css(s),console.log("scrollRelative = "+p),console.log("scrollTop      = "+a[d.pos]),console.log("maxScrollSize  = "+i),console.log("scrollSize     = "+e)}};c(!0),c(!1)};var p=function(){j.scroll(function(){i.update()}),b.mouseover(function(){i.update()});var c=function(c){var d=h(c);l[d.axis].click(function(b){if(a(b.target).is(l[d.axis])){var c=j[d.size]();parseFloat(m[d.axis].css(d.pos))>b["page"+d.axisUpper]-l[d.axis].offset()[d.pos]&&(c*=-1),j["scroll"+d.posUpper](j["scroll"+d.posUpper]()+c),i.update()}}),m[d.axis].mousedown(function(a){var c=f.find("body"),e=c.attr("unselectable");c.attr("unselectable","on");var g=a["page"+d.axisUpper];l[d.axis].addClass("dragScrolling"),f.on("mousemove."+o,function(a){var c=b[d.size](),e=k[0]["scroll"+d.sizeUpper],f=c/e,h=(a["page"+d.axisUpper]-g)/f;j["scroll"+d.posUpper](j["scroll"+d.posUpper]()+h),g=a["page"+d.axisUpper],i.update(),a.preventDefault()}),f.on("selectstart."+o,function(a){a.preventDefault()}),f.one("mouseup",function(){f.off("."+o),c.attr("unselectable",e||"off"),l[d.axis].removeClass("dragScrolling")})})};c(!0),c(!1)},q=function(){b.is(".scrollX")&&(j.css({"padding-bottom":e+"px","margin-bottom":-e+"px"}),k.css({"margin-bottom":-e+"px"}),b.prepend(a(g).addClass("scrollbarX"))),b.is(".scrollY")&&(j.css({"padding-right":e+"px","margin-right":-e+"px"}),k.css({"margin-right":-e+"px"}),b.prepend(a(g).addClass("scrollbarY"))),l.x=b.find("> .scrollbarX"),l.y=b.find("> .scrollbarY"),m.x=l.x.find("> .thumb"),m.y=l.y.find("> .thumb"),p(),b.addClass("initialized"),i.update()};q.apply(this)},c="__jsFancyScroll",d=0,e=0,f=a(document),g='<div><div class="thumb"></div></div>',h=function(a){return{axis:a?"y":"x",axisUpper:a?"Y":"X",pos:a?"top":"left",posUpper:a?"Top":"Left",size:a?"height":"width",sizeUpper:a?"Height":"Width"}};a.fn.fancyScroll=function(){return this.filter(".scrollX, .scrollY").each(function(d,e){var f=a(e),g=f.data(c);g?g.update():(g=new b(f),f.data(c,g))}),this},f.ready(function(){var b=a("<div><div></div></div>");a("body").append(b),b.css({overflow:"scroll",height:"100px",width:"100px"});var c=b.find("> div").css({height:"100%",width:"100%"});e=b.width()-c.width(),b.remove()}),f.on("mousemove",".scrollX, .scrollY",function(b){a(b.currentTarget).fancyScroll()})}(jQuery);